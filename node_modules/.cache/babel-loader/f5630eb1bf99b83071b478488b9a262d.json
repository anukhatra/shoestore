{"ast":null,"code":"import _toConsumableArray from\"D:\\\\Projects\\\\react\\\\shoestore\\\\shoestore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"D:\\\\Projects\\\\react\\\\shoestore\\\\shoestore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\Projects\\\\react\\\\shoestore\\\\shoestore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\Projects\\\\react\\\\shoestore\\\\shoestore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\Projects\\\\react\\\\shoestore\\\\shoestore\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';export var DataContext=React.createContext();export var DataProvider=/*#__PURE__*/function(_Component){_inherits(DataProvider,_Component);var _super=_createSuper(DataProvider);function DataProvider(){var _this;_classCallCheck(this,DataProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={products:[{\"_id\":\"1\",\"title\":\"Blue hike shoes\",\"src\":\"https://media.istockphoto.com/photos/running-shoes-picture-id1249496770?b=1&k=20&m=1249496770&s=170667a&w=0&h=_SUv4odBqZIzcXvdK9rqhPBIenbyBspPFiQOSDRi-RI=\",\"description\":\"Welcome to our stunning shoes collection.\",\"content\":\"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\"price\":30,\"colors\":[\"blue\"],\"count\":1},{\"_id\":\"2\",\"title\":\"Red blunder shoes\",\"src\":\"https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8c2hvZXN8ZW58MHx8MHx8&auto=format&fit=crop&w=600&q=60\",\"description\":\"Welcome to our stunning shoes collection.\",\"content\":\"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\"price\":40,\"colors\":[\"red\"],\"count\":1},{\"_id\":\"3\",\"title\":\"Lovely Maroon\",\"src\":\"https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8c2hvZXN8ZW58MHx8MHx8&auto=format&fit=crop&w=600&q=60\",\"description\":\"Welcome to our stunning shoes collection.\",\"content\":\"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\"price\":29,\"colors\":[\"marron\"],\"count\":1},{\"_id\":\"4\",\"title\":\"Black is beauty\",\"src\":\"https://images.unsplash.com/photo-1463100099107-aa0980c362e6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTJ8fHNob2VzfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=600&q=60\",\"description\":\"Welcome to our stunning shoes collection.\",\"content\":\"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\"price\":49,\"colors\":[\"black\"],\"count\":1},{\"_id\":\"5\",\"title\":\"Light white\",\"src\":\"https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTZ8fHNob2VzfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=600&q=60\",\"description\":\"Welcome to our stunning shoes collection.\",\"content\":\"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\"price\":29,\"colors\":[\"White\"],\"count\":1},{\"_id\":\"6\",\"title\":\"Grey say\",\"src\":\"https://images.unsplash.com/photo-1562183241-b937e95585b6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTd8fHNob2VzfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=600&q=60\",\"description\":\"Welcome to our stunning shoes collection.\",\"content\":\"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\"price\":39,\"colors\":[\"Gray\"],\"count\":1}],cart:[],total:0};_this.addCart=function(id){var _this$state=_this.state,products=_this$state.products,cart=_this$state.cart;var check=cart.every(function(item){return item._id!==id;});if(check){var data=products.filter(function(product){return product._id===id;});_this.setState({cart:[].concat(_toConsumableArray(cart),_toConsumableArray(data))});}else{alert(\"The product has been added to cart.\");}};_this.reduction=function(id){var cart=_this.state.cart;cart.forEach(function(item){if(item._id===id){item.count===1?item.count=1:item.count-=1;}});_this.setState({cart:cart});_this.getTotal();};_this.increase=function(id){var cart=_this.state.cart;cart.forEach(function(item){if(item._id===id){item.count+=1;}});_this.setState({cart:cart});_this.getTotal();};_this.removeProduct=function(id){if(window.confirm(\"Do you want to delete this product?\")){var cart=_this.state.cart;cart.forEach(function(item,index){if(item._id===id){cart.splice(index,1);}});_this.setState({cart:cart});_this.getTotal();}};_this.getTotal=function(){var cart=_this.state.cart;var res=cart.reduce(function(prev,item){return prev+item.price*item.count;},0);_this.setState({total:res});};return _this;}_createClass(DataProvider,[{key:\"componentDidUpdate\",value:function componentDidUpdate(){localStorage.setItem('dataCart',JSON.stringify(this.state.cart));localStorage.setItem('dataTotal',JSON.stringify(this.state.total));}},{key:\"componentDidMount\",value:function componentDidMount(){var dataCart=JSON.parse(localStorage.getItem('dataCart'));if(dataCart!==null){this.setState({cart:dataCart});}var dataTotal=JSON.parse(localStorage.getItem('dataTotal'));if(dataTotal!==null){this.setState({total:dataTotal});}}},{key:\"render\",value:function render(){var _this$state2=this.state,products=_this$state2.products,cart=_this$state2.cart,total=_this$state2.total;var addCart=this.addCart,reduction=this.reduction,increase=this.increase,removeProduct=this.removeProduct,getTotal=this.getTotal;return/*#__PURE__*/React.createElement(DataContext.Provider,{value:{products:products,addCart:addCart,cart:cart,reduction:reduction,increase:increase,removeProduct:removeProduct,total:total,getTotal:getTotal}},this.props.children);}}]);return DataProvider;}(Component);","map":{"version":3,"sources":["D:/Projects/react/shoestore/shoestore/src/components/Context.js"],"names":["React","Component","DataContext","createContext","DataProvider","state","products","cart","total","addCart","id","check","every","item","_id","data","filter","product","setState","alert","reduction","forEach","count","getTotal","increase","removeProduct","window","confirm","index","splice","res","reduce","prev","price","localStorage","setItem","JSON","stringify","dataCart","parse","getItem","dataTotal","props","children"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\n\nexport const DataContext = React.createContext();\n\nexport class DataProvider extends Component {\n\n    state = {\n        products: [\n            {\n                \"_id\": \"1\",\n                \"title\": \"Blue hike shoes\",\n                \"src\": \"https://media.istockphoto.com/photos/running-shoes-picture-id1249496770?b=1&k=20&m=1249496770&s=170667a&w=0&h=_SUv4odBqZIzcXvdK9rqhPBIenbyBspPFiQOSDRi-RI=\",\n                \"description\": \"Welcome to our stunning shoes collection.\",\n                \"content\": \"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\n                \"price\": 30,\n                \"colors\": [\"blue\"],\n                \"count\": 1\n            },\n            {\n                \"_id\": \"2\",\n                \"title\": \"Red blunder shoes\",\n                \"src\": \"https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8c2hvZXN8ZW58MHx8MHx8&auto=format&fit=crop&w=600&q=60\",\n                \"description\": \"Welcome to our stunning shoes collection.\",\n                \"content\": \"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\n                \"price\": 40,\n                \"colors\": [\"red\"],\n                \"count\": 1\n            },\n            {\n                \"_id\": \"3\",\n                \"title\": \"Lovely Maroon\",\n                \"src\": \"https://images.unsplash.com/photo-1525966222134-fcfa99b8ae77?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8M3x8c2hvZXN8ZW58MHx8MHx8&auto=format&fit=crop&w=600&q=60\",\n                \"description\": \"Welcome to our stunning shoes collection.\",\n                \"content\": \"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\n                \"price\": 29,\n                \"colors\": [\"marron\"],\n                \"count\": 1\n            },\n            {\n                \"_id\": \"4\",\n                \"title\": \"Black is beauty\",\n                \"src\": \"https://images.unsplash.com/photo-1463100099107-aa0980c362e6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTJ8fHNob2VzfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=600&q=60\",\n                \"description\": \"Welcome to our stunning shoes collection.\",\n                \"content\": \"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\n                \"price\": 49,\n                \"colors\": [\"black\"],\n                \"count\": 1\n            },\n            {\n                \"_id\": \"5\",\n                \"title\": \"Light white\",\n                \"src\": \"https://images.unsplash.com/photo-1595950653106-6c9ebd614d3a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTZ8fHNob2VzfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=600&q=60\",\n                \"description\": \"Welcome to our stunning shoes collection.\",\n                \"content\": \"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\n                \"price\": 29,\n                \"colors\": [\"White\"],\n                \"count\": 1\n            },\n            {\n                \"_id\": \"6\",\n                \"title\": \"Grey say\",\n                \"src\": \"https://images.unsplash.com/photo-1562183241-b937e95585b6?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTd8fHNob2VzfGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=600&q=60\",\n                \"description\": \"Welcome to our stunning shoes collection.\",\n                \"content\": \"Welcome to our stunning shoes collection. Wear shoes of your comfort and choice make you feel awesome and happy.We make you feel special\",\n                \"price\": 39,\n                \"colors\": [\"Gray\"],\n                \"count\": 1\n            }\n        ],\n        cart: [],\n        total: 0\n        \n    };\n\n    addCart = (id) =>{\n        const {products, cart} = this.state;\n        const check = cart.every(item =>{\n            return item._id !== id\n        })\n        if(check){\n            const data = products.filter(product =>{\n                return product._id === id\n            })\n            this.setState({cart: [...cart,...data]})\n        }else{\n            alert(\"The product has been added to cart.\")\n        }\n    };\n\n    reduction = id =>{\n        const { cart } = this.state;\n        cart.forEach(item =>{\n            if(item._id === id){\n                item.count === 1 ? item.count = 1 : item.count -=1;\n            }\n        })\n        this.setState({cart: cart});\n        this.getTotal();\n    };\n\n    increase = id =>{\n        const { cart } = this.state;\n        cart.forEach(item =>{\n            if(item._id === id){\n                item.count += 1;\n            }\n        })\n        this.setState({cart: cart});\n        this.getTotal();\n    };\n\n    removeProduct = id =>{\n        if(window.confirm(\"Do you want to delete this product?\")){\n            const {cart} = this.state;\n            cart.forEach((item, index) =>{\n                if(item._id === id){\n                    cart.splice(index, 1)\n                }\n            })\n            this.setState({cart: cart});\n            this.getTotal();\n        }\n       \n    };\n\n    getTotal = ()=>{\n        const{cart} = this.state;\n        const res = cart.reduce((prev, item) => {\n            return prev + (item.price * item.count);\n        },0)\n        this.setState({total: res})\n    };\n    \n    componentDidUpdate(){\n        localStorage.setItem('dataCart', JSON.stringify(this.state.cart))\n        localStorage.setItem('dataTotal', JSON.stringify(this.state.total))\n    };\n\n    componentDidMount(){\n        const dataCart = JSON.parse(localStorage.getItem('dataCart'));\n        if(dataCart !== null){\n            this.setState({cart: dataCart});\n        }\n        const dataTotal = JSON.parse(localStorage.getItem('dataTotal'));\n        if(dataTotal !== null){\n            this.setState({total: dataTotal});\n        }\n    }\n   \n\n    render() {\n        const {products, cart,total} = this.state;\n        const {addCart,reduction,increase,removeProduct,getTotal} = this;\n        return (\n            <DataContext.Provider \n            value={{products, addCart, cart, reduction,increase,removeProduct,total,getTotal}}>\n                {this.props.children}\n            </DataContext.Provider>\n        )\n    }\n}\n\n\n"]},"metadata":{},"sourceType":"module"}